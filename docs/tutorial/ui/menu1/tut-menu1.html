<html>

<head>
<title>Trestle by Example:  Menu</title>
<LINK HREF="/cm3/normal.css" REL="stylesheet" TYPE="text/css"></head>

<body>

<ul>
  <li> Root of document: <a href="../tutorial.html">Trestle by Example</a>
  <li> Previous section: <a href="../update/tut-update.html">Updating a text window</a>
  <li> Next section: <a href="../key/tut-key.html">Catching keybord events</a>
  <li> Cross listing: <a href="../cross/tut-cross.html">Cross listing by module</a>
</ul>

<hr>

<h3>Menus</h3>

The program
<a href="./Menu.m3">Menu.m3</a>
illustrates how to create a menu bar with pull down menus.
Several key Trestle interfaces are involved:
<code>MenuBtnVBT</code>, <code>AnchorBtnVBT</code>, and <code>ButtonVBT</code>.

In addition to providing a button VBT,
the <code>ButtonVBT</code> interface provides a function <code>MenuBar</code>
that takes several VBT's as arguments.
These are likely to be anchor buttons from the <code>AnchorBtnVBT</code> interface.
Each anchor button takes a single VBT as an argument---most likely
a vertical split VBT containing all the individual menu items.
The individual menu items are VBTs of type <code>MenuBtnVBT.T</code>.
As usual these menu items can be created using the <code>New</code> procedure
<pre>
PROCEDURE New(ch: VBT.T; action: ButtonVBT.Proc; ref: REFANY := NIL): T;
</pre>
provided with the <code>MenuBtnVBT</code> module.
The argument <code>ref</code>, a pointer to any type,
can be used to add an object to the menu item's property set---a
convenient way to share global information.
The menu item's child VBT (<code>ch</code>) is very often a text VBT.
For this reason the <code>MenuBtnVBT</code> provides another procedure
for making a menu button with a <code>TextVBT</code> child.
<pre>
PROCEDURE TextItem(name: TEXT; action: ButtonVBT.Proc; ref: REFANY := NIL): T;
</pre>


The program
<a href="./Menu.m3">Menu.m3</a>
illustrates an application with a simple menu bar with two buttons
that activate pull-down menus.
Each menu has two menu times.
A <code>BorderedVBT</code> is used to surround the pull-down menus.
This provides visual separation between the menus and the rest
of the application.

The following images
<ul>
  <li> <img src="../menu1/menu1.gif">Menu 1
  <li> <img src="../menu1/menu2.gif">Menu 2
  <li> <img src="../menu1/menu3.gif">Menu 3

</ul>
show three views of the application.
In the first view the menu bar is
shown as it appears normally in the application.
In the second view, one pull-down menu has been activated by
clicking in the ``file'' button.
In the third view the other pull-down menu has been activated
and the menu item ``cut'' has been selected by moving the cursor
into the button.
Pressing the ``cut'' button will close the pull-down menu and
activate the procedure associated with the ``cut'' menu item.
In the case of this sample program the action is just printing
the name of the button to the standard output.

<hr>

<ul>
  <li> Root of document: <a href="../tutorial.html">Trestle by Example</a>
  <li> Previous section: <a href="../update/tut-update.html">Updating a text window</a>
  <li> Next section: <a href="../key/tut-key.html">Catching keybord events</a>
  <li> Cross listing: <a href="../cross/tut-cross.html">Cross listing by module</a>
</ul>

</body>
</html>
