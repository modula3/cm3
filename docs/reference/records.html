<HTML>
<HEAD>
<TITLE>Modula-3: Record types</TITLE>
<LINK HREF="/cm3/normal.css" REL="stylesheet" TYPE="text/css"></head>
<body>

<P>
<A HREF="m3.html">[top]</A>
<A HREF="arrays.html">[prev]</A>
<A HREF="packed.html">[next]</A>
<P>

<H2>Record types</H2>
<P>

A <EM>record</EM> is a sequence of named variables, called the
<EM>fields</EM> of the record.  Different fields can have different types. 
The name and type of each field is statically determined by the 
record's type.  The expression <TT>r.f</TT> designates the field named 
<TT>f</TT> in the record <TT>r</TT>.
<P>

A record type declaration has the form:
<PRE>
    TYPE T = RECORD FieldList END
</PRE>
where <TT>FieldList</TT> is a list of field declarations,
each of which has the form:
<PRE>
    fieldName: Type := default
</PRE>
where <TT>fieldName</TT> is an identifier,
<TT>Type</TT> is any non-empty type other 
than an open array type, and <TT>default</TT> is a constant expression.  
The field names must be distinct.
A record is a member of <TT>T</TT> if it has fields with the given names 
and types, in the given order, and no other fields.  Empty records 
are allowed.
<P>

<A NAME=idx.45>The</A>
constant <TT>default</TT> is a default value used when a record 
is
<A HREF="construct.html#idx.178">constructed</A>
or
<A HREF="new.html#idx.179">allocated</A>.
Either "<TT>:= default</TT>" or "<TT>: Type</TT>" 
can be omitted, but not both.  If <TT>Type</TT> is omitted, it is taken 
to be the type of <TT>default</TT>. If both are present, the value of 
<TT>default</TT> must be a member of <TT>Type</TT>.
<P>

When a series of fields shares the same type and default,
any <TT>fieldName</TT>
can be a list of identifiers separated by commas.  Such a list is
shorthand for a list in which the type and default are repeated
for each identifier.  That is:
<PRE>
    f_1, ..., f_m: Type := default
</PRE>
is shorthand for:
<PRE>
    f_1: Type := default; ...; f_m: Type := default
</PRE>
This shorthand is eliminated from the expanded definition
of the type.  The default values are included.
<P>

Examples of record types:
<PRE>
    TYPE
      Time = RECORD
        seconds: INTEGER;
        milliseconds: [0..999]
      END; 

      Alignment = {Left, Center, Right}; 

      TextWindowStyle = RECORD 
         align          := Alignment.Center;
         font           := Font.Default; 
         foreground     := Color.Black; 
         background     := Color.White; 
         margin, border := 2  
      END
</PRE>
<P>

<P>
<A HREF="m3.html">[top]</A>
<A HREF="arrays.html">[prev]</A>
<A HREF="packed.html">[next]</A>
</BODY>
</HTML>
