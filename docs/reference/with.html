<HTML>
<HEAD>
<TITLE>Modula-3: With statements</TITLE>
<LINK HREF="/cm3/normal.css" REL="stylesheet" TYPE="text/css"></head>
<body>

<P>
<A HREF="m3.html">[top]</A>
<A HREF="repeat.html">[prev]</A>
<A HREF="for.html">[next]</A>
<P>

<A NAME=idx.110>
<H2>With</H2>
</A>
<P>

A <TT>WITH</TT> statement has the form: 
<PRE>
    WITH id = e DO S END
</PRE>
where <TT>id</TT> is an identifier, <TT>e</TT> an expression,
and <TT>S</TT> a statement.
The statement declares <TT>id</TT> with scope <TT>S</TT> as an
alias for the variable <TT>e</TT> or as a readonly name for 
the value <TT>e</TT>. The expression <TT>e</TT> is evaluated once, at entry 
to the <TT>WITH</TT> statement. 
<P>

The statement is like the procedure call <TT>P(e)</TT>, where <TT>P</TT>
is declared as:
<PRE>
    PROCEDURE P(mode id: type of e) = BEGIN S END P;
</PRE>
If <TT>e</TT> is a
<A HREF="designators.html">writable designator</A>,
<TT>mode</TT> is <TT>VAR</TT>; otherwise,
<TT>mode</TT> is <TT>READONLY</TT>.
The only difference
between the <TT>WITH</TT> statement and the call <TT>P(e)</TT> is that free
variables, <TT>RETURN</TT>s, and <TT>EXIT</TT>s that occur in the <TT>WITH</TT>
statement are interpreted in the context of the <TT>WITH</TT> statement,
not in the context of <TT>P</TT>.
<P>

<A NAME=idx.111>A</A>
single <TT>WITH</TT> can contain multiple bindings, which are evaluated
sequentially.  That is:
<PRE>
    WITH id_1 = e_1, id_2 = e_2, ...
</PRE>
is equivalent to:
<PRE>
    WITH id_1 = e_1 DO
      WITH id_2 = e_2 DO ....
</PRE>
<P>

<P>
<A HREF="m3.html">[top]</A>
<A HREF="repeat.html">[prev]</A>
<A HREF="for.html">[next]</A>
</BODY>
</HTML>
