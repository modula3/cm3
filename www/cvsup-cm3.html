<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>CM3 CVSup Access</title>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html">
    <META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
    <META HTTP-EQUIV="Resource-type" CONTENT="document"> 
    <META HTTP-EQUIV="Reply-to" CONTENT="m3-support@elego.de"> 
    <LINK HREF="normal.css" REL="stylesheet" TYPE="text/css">
    <META NAME="robots" content="noindex">
  </head>

  <body bgcolor="#ffffff">
    <h2>CM3 CVSup Access</h2>

    <p>
      The CM3 CVS source repository from 
      <a href="http://www.elego-software-solutions.com/index.html">
        elego Software Solutions</a>
      which is used for CM3 development and bugfixes is now available
      via <a href="http://www.polstra.com/projects/freeware/CVSup/">
        CVSup</a> pserver access. 
    </p>
    <p>
      CVSup is a client/server application for the replication of
      collections of files through a TCP connection. It is especially
      suited for CVS repositories, as it understands the
      complete syntax of RCS files. It is probably the fastest
      mirroring tool currently available. Better still, it is open
      source and subject to the free BSD style license. More
      information about CVSup and precompiled programs for several
      platforms can be found at 
      <a href="http://www.polstra.com/projects/freeware/CVSup/">
        http://www.polstra.com/projects/freeware/CVSup/</a>.
    </p>

    <p>
      CVSup is completely written in Modula-3, and the server now
      installed for the cm3 distribution has of course been compiled
      with the latest cm3 compiler. You can use the cvsup client to
      replicate the complete or partial cm3 repository, or to checkout
      the latest cm3 sources, or those belonging to a named
      configuration. Please have a look at the sample <a
      href="cvsupfile.cm3">cvsupfile.cm3</a> provided for the cm3
      distribution. You will probably want to change the donwload
      location of the files and the source collections to be copied.
      Please read all the available 
      <a href="http://www.polstra.com/projects/freeware/CVSup/">
        documentation and FAQs</a> if you are not familiar with
      CVSup's installation and use.
    </p>

    <p>
      Once you've adapted the cvsupfile to your personal needs and
      preferences, you can start the download with
    </p>
    <pre>
      cvsup -L 2 cvsupfile.cm3
    </pre>
    <p>
      if you want the GUI, or with
    </p>
    <pre>
      cvsup -g -L 2 cvsupfile.cm3
    </pre>
    <p>
      for simple command line access. -L specifies the log level and
      can vary between 0 and 2.
    </p>
    <p>
      Please note that the complete repository is currently about 280
      MB in size. 
    </p>
    <h2>How to refuse modules when downloading via CVSup</h2>
    <p>
    The following email documents how to refuse modules
    to decrease the size of the download.
    In this specific case, gcc sources are refused.
    <pre>
---------------------------- Message ----------------------------
Subject: Re: cm3-m3-sys CVS tag minus GCC?
From:    "Darko" &lt;address removed&gt;
Date:    Thu, August 31, 2006 16:15
To:      "Olaf Wagner" &lt;address removed&gt;

On 31/08/2006, at 3:01 PM, Olaf Wagner wrote:
&gt;&gt; Would there happen to be a tag I can use with CVSUP that will sync
&gt;&gt; all the sources under the cm3-m3-sys tag without the GCC
&gt;&gt; distribution? Or maybe some option that will have that effect? I've
&gt;&gt; got a very limited Internet connection and don't need GCC.
&gt;
&gt; Yes. You can use refuse files for this purpose. See
&gt;
&gt;   http://www.cvsup.org/faq.html#refuse
&gt;
&gt; for details. If it works, it would be great if you could send us an
&gt; example we can put on the web pages.
&gt;

Thanks for that Olaf, here is a quick rundown:

First you need to consult your CVSUP configuration file and get your
base and prefix directories. Mine appear in the file as:

*default base=/Users/darko/app
*default prefix=/Users/darko/app/m3

Then construct a file named 'refuse' listing directories you want to
refuse (with wildcards if you wish) relative to the prefix. I want to
exclude everything under 'm3-sys/m3cc' in the 'cm3' collection which
is written to a directory called 'cm3', so I write:

cm3/m3-sys/m3cc

in this file and any other directories I want to exclude separated by
whitespace, no comments allowed. Now put the 'refuse' file in the
directory with the same name as the collection and in the 'sup'
directory under the base directory. So I put the file under:

Users/darko/app/sup/cm3/

If you have a different setup you may need to consult
<a href="http://www.cvsup.org/faq.html#refuse">http://www.cvsup.org/faq.html#refuse</a>
--------------------------------------------------------------------------
    </pre>


    <hr>
    <address><a href="mailto:m3-support{at}elego.de">m3-support{at}elego.de</a></address>
<!-- Created: Fri Feb 16 15:27:10 MET 2001 -->
  </body>
</html>
